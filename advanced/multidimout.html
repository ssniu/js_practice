<!Doctype html>
<html>
<head>
    <title>speedup 01</title>
    <style>

    div {
        width: 100px;
        height: 100px;
        background: red;
        margin-top: 50px;
        opacity: 0.3;
    }
    </style>

    <script>
    window.onload = function(){
        var aDiv = document.getElementsByTagName('div');
        var i = 0;
        for( i = 0; i < aDiv.length;i++){
            aDiv[i].timer = null;
            aDiv[i].tmp = 30;
            aDiv[i].onmouseover = function(){
                move(this,100);//use this to make the selected one to move

            }
            aDiv[i].onmouseout = function(){
                move(this,30);//use this to make the selected one to move

            }
        }
    };


        function move(obj, iTarget){

            clearInterval(obj.timer);

            obj.timer = setInterval(function(){
                var iSpeed = (iTarget - obj.tmp) / 8;
                iSpeed = iSpeed > 0 ? Math.ceil(iSpeed):Math.floor(iSpeed);

                if(obj.tmp == iTarget){
                    clearInterval(obj.timer);
                }
                else {
                    obj.tmp += iSpeed;
                    obj.style.opacity = obj.tmp / 100;
                }
            }, 30);
        }


    </script>
</head>
<body >
<div></div>
<div></div>
<div></div>
</body>
</html>
